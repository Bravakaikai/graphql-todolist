(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],u=0,f=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/to-do-list/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0fb1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},r=[],o={name:"App"},s=o,l=a("2877"),c=a("6544"),d=a.n(c),u=a("7496"),f=a("f6c4"),p=Object(l["a"])(s,i,r,!1,null,null,null),v=p.exports;d()(p,{VApp:u["a"],VMain:f["a"]});var m,b=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ToDoList")},_=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toDo"},[a("v-card",[a("h1",{staticClass:"my-3"},[t._v("My To Do List")]),a("v-btn",{attrs:{outlined:""},on:{click:function(e){return t.openEditDialog("Add")}}},[t._v(" + Add Task ")]),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search="string"===typeof e?e.trim():e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.todo_list,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.openEditDialog("Edit",n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{on:{click:function(e){return t.openDeleteDialog(n)}}},[t._v(" mdi-delete ")])]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.getDateTime(a.created_at))+" ")]}},{key:"item.updated_at",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.getDateTime(a.updated_at))+" ")]}}])})],1),a("DeleteDialog",{ref:"deleteDialog",on:{result:function(e){return t.openSnackbar(e)}}}),a("EditDialog",{ref:"editDialog",on:{result:function(e){return t.openSnackbar(e)}}}),a("Snackbar",{ref:"snackbar"})],1)},k=[],y=a("8785"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6 grey lighten-2"},[t._v(" Delete Task ID "+t._s(t.id)+" "),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-5",staticStyle:{"font-size":"16px"}},[t._v(' Do you want to delete task "'+t._s(t.task)+'" ? ')]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.remove}},[t._v(" Delete ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")])],1)],1)],1)},x=[],$=(a("4de4"),a("5184")),V=Object($["a"])(m||(m=Object(y["a"])(["\n  mutation MyQuery($id: Int!) {\n    delete_todo_list_by_pk(id: $id) {\n      id\n    }\n  }\n"]))),w={name:"DeleteDialog",data:function(){return{dialog:!1,id:null,task:null}},methods:{openDialog:function(t){this.id=t.id,this.task=t.task,this.dialog=!0},remove:function(){var t=this;this.$apollo.mutate({mutation:V,variables:{id:this.id},update:function(e,a){a.data.delete_todo_list_by_pk;t.dialog=!1;try{var n=e.readQuery({query:nt});n.todo_list=n.todo_list.filter((function(e){return e.id!=t.id})),e.writeQuery({query:nt,data:n}),t.$emit("result","Deleted Successfully!")}catch(i){t.$emit("result","Cannot Delete Task")}}})}}},S=w,T=a("8336"),j=a("b0af"),O=a("99d9"),C=a("169a"),E=a("ce7e"),A=a("132d"),q=a("2fa4"),I=Object(l["a"])(S,D,x,!1,null,null,null),M=I.exports;d()(I,{VBtn:T["a"],VCard:j["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VDialog:C["a"],VDivider:E["a"],VIcon:A["a"],VSpacer:q["a"]});var Q,P,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6 grey lighten-2"},[t._v(" "+t._s(t.title)+" Task "),a("span",{directives:[{name:"show",rawName:"v-show",value:"Edit"==t.title,expression:"title == 'Edit'"}]},[t._v("ID "+t._s(t.form.id))]),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-form",{ref:"form",staticClass:"pa-5 pb-0",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Task",rules:[function(t){return!!t||"Task is required"}],clearable:"",outlined:"",required:""},model:{value:t.form.task,callback:function(e){t.$set(t.form,"task","string"===typeof e?e.trim():e)},expression:"form.task"}}),a("v-text-field",{attrs:{label:"Assignee",rules:[function(t){return!!t||"Assignee is required"}],clearable:"",outlined:"",required:""},model:{value:t.form.assignee,callback:function(e){t.$set(t.form,"assignee","string"===typeof e?e.trim():e)},expression:"form.assignee"}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.submit}},[t._v(" Save ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")])],1)],1)],1)},B=[],F=(a("a434"),Object($["a"])(Q||(Q=Object(y["a"])(["\n  mutation MyQuery($assignee: String!, $task: String!) {\n    insert_todo_list_one(object: { assignee: $assignee, task: $task }) {\n      id\n      assignee\n      created_at\n      task\n      updated_at\n    }\n  }\n"])))),U=Object($["a"])(P||(P=Object(y["a"])(["\n  mutation MyQuery($id: Int!, $assignee: String!, $task: String!) {\n    update_todo_list_by_pk(\n      pk_columns: { id: $id }\n      _set: { assignee: $assignee, task: $task }\n    ) {\n      id\n      assignee\n      created_at\n      task\n      updated_at\n    }\n  }\n"]))),z={name:"EditDialog",data:function(){return{dialog:!1,valid:!1,title:"Add",form:{id:null,task:null,assignee:null,created_at:null,updated_at:null}}},methods:{openDialog:function(t,e){this.title=t,"Add"==t&&(this.form.id=null,this.form.task=null,this.form.assignee=null,this.form.created_at=null,this.form.updated_at=null),"Edit"==t&&(this.form=Object.assign({},e)),this.dialog=!0,this.$refs.form&&this.$refs.form.resetValidation()},submit:function(){var t=this,e=this.$refs.form.validate();e&&("Add"==this.title?this.$apollo.mutate({mutation:F,variables:{task:this.form.task,assignee:this.form.assignee},update:function(e,a){var n=a.data.insert_todo_list_one;try{var i=e.readQuery({query:nt});i.todo_list.splice(0,0,n),e.writeQuery({query:nt,data:i}),t.dialog=!1,t.$emit("result","Inserted Successfully!")}catch(r){t.$emit("result","Cannot Insert Task")}}}):this.$apollo.mutate({mutation:U,variables:{id:this.form.id,task:this.form.task,assignee:this.form.assignee},update:function(e,a){a.data.update_todo_list_by_pk;try{var n=e.readQuery({query:nt});e.writeQuery({query:nt,data:n}),t.dialog=!1,t.$emit("result","Updated Successfully!")}catch(i){t.$emit("result","Cannot Update Task")}}}))}}},H=z,J=a("4bd4"),N=a("8654"),W=Object(l["a"])(H,L,B,!1,null,null,null),Z=W.exports;d()(W,{VBtn:T["a"],VCard:j["a"],VCardActions:O["a"],VCardTitle:O["c"],VDialog:C["a"],VDivider:E["a"],VForm:J["a"],VIcon:A["a"],VSpacer:q["a"],VTextField:N["a"]});var G,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"white",icon:"",dark:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[a("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])},R=[],X={name:"Snackbar",data:function(){return{snackbar:!1,text:null,timeout:2e3}},methods:{openSnackbar:function(t){this.snackbar=!0,this.text=t}}},Y=X,tt=a("2db4"),et=Object(l["a"])(Y,K,R,!1,null,null,null),at=et.exports;d()(et,{VBtn:T["a"],VIcon:A["a"],VSnackbar:tt["a"]});var nt=Object($["a"])(G||(G=Object(y["a"])(["\n  query MyQuery {\n    todo_list(order_by: { updated_at: desc }) {\n      assignee\n      created_at\n      id\n      task\n      updated_at\n    }\n  }\n"]))),it={name:"ToDoList",components:{DeleteDialog:M,EditDialog:Z,Snackbar:at},apollo:{todo_list:{query:nt}},data:function(){return{search:"",todo_list:[],headers:[{text:"Actions",value:"actions",sortable:!1},{text:"ID",value:"id"},{text:"Task",value:"task"},{text:"Assignee",value:"assignee"},{text:"Created Date",value:"created_at"},{text:"Updated Date",value:"updated_at"}]}},methods:{getDateTime:function(t){var e={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Taipei",hourCycle:"h23"};return t?new Date(t).toLocaleString("zh-TW",e):"無"},openEditDialog:function(t,e){this.$refs.editDialog.openDialog(t,e)},openDeleteDialog:function(t){this.$refs.deleteDialog.openDialog(t)},openSnackbar:function(t){this.$refs.snackbar.openSnackbar(t)}}},rt=it,ot=(a("af72"),a("8fea")),st=Object(l["a"])(rt,h,k,!1,null,"4f52964c",null),lt=st.exports;d()(st,{VBtn:T["a"],VCard:j["a"],VCardTitle:O["c"],VDataTable:ot["a"],VIcon:A["a"],VTextField:N["a"]});var ct={name:"Home",components:{ToDoList:lt}},dt=ct,ut=Object(l["a"])(dt,g,_,!1,null,null,null),ft=ut.exports;n["a"].use(b["a"]);var pt=[{path:"/",name:"Home",component:ft}],vt=new b["a"]({routes:pt}),mt=vt,bt=a("522d"),gt=a("74ca"),_t=a("478e"),ht=a("2bf2"),kt=a("f309");n["a"].use(kt["a"]);var yt=new kt["a"]({});n["a"].use(bt["a"]),n["a"].config.productionTip=!1;var Dt=new _t["a"]({uri:"http://35.189.161.175:8080/v1/graphql",fetch:fetch,headers:{"content-type":"application/json","x-hasura-admin-secret":"myadminsecretkey"}}),xt=new gt["a"]({link:Dt,cache:new ht["a"]({addTypename:!0})}),$t=new bt["a"]({defaultClient:xt});new n["a"]({router:mt,apolloProvider:$t,vuetify:yt,render:function(t){return t(v)}}).$mount("#app")},af72:function(t,e,a){"use strict";a("0fb1")}});
//# sourceMappingURL=app.17e08457.js.map